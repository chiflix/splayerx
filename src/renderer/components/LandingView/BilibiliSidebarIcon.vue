<template>
  <div
    @mouseover="mouseover = true"
    @mouseout="mouseover = false"
    @mouseup="mouseupOnIcon(url)"
    :style="{
      opacity: mouseover || selected ? '1.0' : '0.7',
    }"
    class="sidebar"
  >
    <svg
      width="44x"
      height="44px"
      viewBox="0 0 44 44"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <defs>
        <circle
          id="path-1"
          cx="22"
          cy="22"
          r="22"
        />
      </defs>
      <g
        id="LandingView"
        stroke="none"
        stroke-width="1"
        fill="none"
        fill-rule="evenodd"
      >
        <g
          id="2"
          transform="translate(-17.000000, -45.000000)"
        >
          <g
            id="sideBarItems"
            transform="translate(18.000000, 46.000000)"
          >
            <g
              id="sideBarItem--bilibili"
            >
              <mask
                id="mask-2"
                fill="white"
              >
                <use xlink:href="#path-1" />
              </mask>
              <circle
                :stroke-width="selected ? 2 : 0"
                stroke="#EBECF0"
                fill="#20B0E3"
                cx="21"
                cy="21"
                r="21"
              />
              <g
                id="logo--bilibili"
                stroke-width="1"
                fill-rule="evenodd"
                mask="url(#mask-2)"
                fill="#FFFFFF"
              >
                <g
                  id="形状"
                  transform="translate(11.000000, 11.000000)"
                  fill-rule="nonzero"
                >
                  <path :d="d1" />
                  <path :d="d2" />
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
  </div>
</template>
<script lang="ts">
import { log } from '@/libs/Log';

export default {
  props: {
    selected: {
      type: Boolean,
      default: false,
    },
    url: {
      type: String,
      default: '',
    },
    mouseupOnIcon: {
      type: Function,
      default: () => {
        log.debug('BilibiliSidebarIcon.vue', 'mouse up on button');
      },
    },
  },
  data() {
    return {
      d1: 'M4.16311913,0.136856551 C4.54706993,-0.0456188504 4.99134115,-0.0456188504 5.37529196,0.136856551 C5.64911676,0.279622341 5.89930343,0.464687896 6.11685652,0.685399187 L8.96902792,3.2115824 L11.0083305,3.2115824 L13.8605018,0.685399187 C14.0783549,0.465042255 14.328484,0.280019249 14.6020664,0.136856551 C15.0123291,-0.0114232883 15.4670459,0.0382423441 15.836616,0.271698057 C16.2061862,0.505153769 16.4500711,0.896791525 16.4987604,1.33498915 C16.513676,1.6852461 16.4021569,2.02902758 16.1850215,2.30215644 C15.986131,2.50576009 15.7766755,2.69850382 15.5575438,2.87956975 C15.4314345,2.99858633 15.2980711,3.10947511 15.1582398,3.2115824 L16.9408469,3.2115824 C17.7362729,3.23749039 18.4895277,3.57982413 19.0371929,4.16431436 C19.6186036,4.71720364 19.9618087,5.47941841 19.9926703,6.28630826 L19.9926703,14.5866246 C20.0135941,15.0066267 19.9896877,15.4276882 19.921366,15.8424985 C19.73369,16.6827947 19.2196798,17.4112132 18.4952803,17.8634451 C18.0026469,18.1710274 17.4340638,18.3311775 16.8552818,18.3253757 L3.76381512,18.3253757 C3.33467114,18.3475484 2.90441473,18.3233528 2.480338,18.2531991 C1.66006278,18.0576987 0.951300008,17.5378188 0.512339743,16.8096658 C0.197719719,16.314396 0.0294905494,15.738424 0.0274706222,15.1496025 L0.0274706222,6.93589824 C-0.00915687408,6.53738117 -0.00915687408,6.1362827 0.0274706222,5.73776563 C0.294623168,4.32686089 1.46420942,3.27319376 2.879642,3.16827641 L4.74781426,3.16827641 C4.44833627,2.95174642 4.19164084,2.69191043 3.92068456,2.46094511 C3.59596859,2.15900768 3.42749336,1.722008 3.46433714,1.27724783 C3.49794529,0.803968079 3.7591861,0.377630895 4.16311913,0.136856551 L4.16311913,0.136856551 Z M3.83511942,5.73776563 C3.29282475,5.83495122 2.85428204,6.23952569 2.70851171,6.77710958 C2.68296149,6.95904258 2.68296149,7.14371921 2.70851171,7.32565221 L2.70851171,14.1535646 C2.67704938,14.8043975 3.08023736,15.395877 3.69251085,15.5970978 C3.88997647,15.6649278 4.09720389,15.699172 4.3057277,15.6981452 L15.8998044,15.6981452 C16.4806719,15.7202669 17.0166726,15.3833095 17.2545858,14.8464605 C17.3773175,14.545168 17.4262444,14.2182997 17.3971944,13.8937286 L17.3971944,7.54218222 C17.4299586,7.31240746 17.4299586,7.07906099 17.3971944,6.84928623 C17.2690268,6.38622012 16.9214635,6.01816692 16.4702387,5.86768362 C16.1867619,5.76619092 15.8863509,5.72204935 15.5860655,5.73776563 L4.50537969,5.73776563 C4.28223679,5.72183388 4.05826232,5.72183388 3.83511942,5.73776563 Z',
      d2: 'M6.3504652,8.11884087 C6.71823296,8.10027292 7.07953194,8.22070592 7.36260538,8.45622093 C7.68078035,8.7282213 7.86759315,9.12319693 7.87600982,9.54170461 L7.87600982,11.0085744 C7.88917306,11.345944 7.78555343,11.6775268 7.58263585,11.9473711 C7.28049873,12.3220804 6.81375082,12.5247135 6.33368834,12.489587 C5.85362585,12.4544604 5.42134493,12.1860447 5.17696933,11.7713467 C5.02441204,11.4622053 4.95851064,11.1174902 4.98627626,10.7738752 L4.98627626,9.30700543 C5.08698788,8.65645051 5.60876577,8.15266497 6.262453,8.07483477 L6.3504652,8.11884087 Z M13.9341822,8.11884087 C14.3258341,8.09070653 14.7124155,8.22077048 15.0074102,8.47992469 C15.3024049,8.7390789 15.4811825,9.10568544 15.5037329,9.4976985 L15.5037329,10.9645683 C15.527372,11.3019095 15.450825,11.6387162 15.2837025,11.9327024 C15.0102269,12.3319314 14.5574487,12.5705961 14.0735348,12.5705961 C13.589621,12.5705961 13.1368428,12.3319314 12.8633672,11.9327024 C12.6782874,11.6185733 12.5962147,11.2543755 12.6286681,10.8912248 L12.6286681,9.42435502 C12.7047908,8.75093189 13.2323356,8.21732338 13.9048448,8.13350957 L13.9341822,8.11884087 Z',
      mouseover: false,
    };
  },
};
</script>
<style lang="scss" scoped>
.sidebar {
  transition: opacity 100ms ease-in;
}
</style>
